<div class="youtobe-wrapper">
  <div class="video-main">
    <div class="video-desc">Feel Inspired in #Comfee' Youniverse</div>
    <div class="video-view">
      <div class="video-placeholder" id="video-placeholder"></div>
      <div class="video_mask">
        <img src="{{ section.settings.video_mask | img_url: 'master'}}">
        <button class="video-pause">
          <svg width="179" height="144" viewBox="0 0 179 144" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="89.2742" cy="68.5" r="57.5" fill="#F47E28"/>
            <path d="M167.847 18.8458C165.117 17.8104 162.189 19.0876 161.177 21.755C160.517 23.4946 160.895 25.3624 161.967 26.8304C162.771 27.9314 165.372 30.3776 166.127 34.1133C167.654 42.2544 159.538 46.4721 159.538 46.4721C159.538 46.4721 171.135 42.3812 173.995 34.8429C176.78 27.1436 172.356 20.5566 167.847 18.8458Z" fill="#E8D999" fill-opacity="0.7"/>
            <path d="M27.9045 9.74417C28.4781 7.52931 27.233 5.35723 25.0684 4.79667C23.6568 4.43109 22.2338 4.88463 21.1817 5.84524C20.3925 6.56569 18.7089 8.80137 15.863 9.70847C9.65074 11.5934 5.67166 5.63061 5.67166 5.63061C5.67166 5.63061 9.84933 14.3165 15.9666 15.9007C22.2029 17.413 26.9569 13.4035 27.9045 9.74417Z" fill="#E8D999" fill-opacity="0.5"/>
            <path d="M6.77047 137.803C8.3029 141.048 11.9839 142.415 15.1549 140.918C17.223 139.941 18.4823 137.966 18.7857 135.752C19.0133 134.092 18.7976 129.708 21.3162 125.757C26.9095 117.249 37.6905 120.44 37.6905 120.44C37.6905 120.44 23.9364 114.167 14.9747 118.4C5.94187 122.838 4.23863 132.443 6.77047 137.803Z" fill="#F47E28"/>
            <path d="M135.543 120.368C136.762 121.226 138.371 120.964 139.209 119.773C139.755 118.997 139.805 118.025 139.46 117.164C139.202 116.517 138.225 114.979 138.324 113.036C138.599 108.817 143.145 107.758 143.145 107.758C143.145 107.758 136.893 108.314 134.526 111.68C132.175 115.135 133.529 118.952 135.543 120.368Z" fill="#E8D999" fill-opacity="0.7"/>
            <path d="M83.6735 84.2447L108.162 69.9567C109.477 69.1893 109.477 67.3245 108.162 66.5571L83.6735 52.269C82.3264 51.483 80.6179 52.4334 80.6179 53.9688V82.5449C80.6179 84.0803 82.3264 85.0307 83.6735 84.2447Z" fill="white"/>
            </svg>            
        </button>
      </div>
    </div>
    {% comment %} <div>{{ section.settings.video_mask }}</div> {% endcomment %}
    <div class="blog-list">
      <div class="slick">
        {% for block in section.blocks %}
          <div class="blog-item">
            <img src="{{ block.settings.videoImg | img_url: 'master'}}">
        {% if block.settings.videoDesc != blank %}    <div class="desc">{{ block.settings.videoDesc }}</div>{% endif%}
            <div class="title">{{ block.settings.videoTitle }}</div>
            <button class="blog-pause" data-video-id="{{ block.settings.videoKey }}">
              <svg width="66" height="66" viewBox="0 0 66 66" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="33" cy="33" r="33" fill="#F47E28"/>
                <path d="M30.8137 41.2305L42.3221 34.5157C43.6373 33.7483 43.6373 31.8835 42.3221 31.1161L30.8137 24.4013C29.4665 23.6153 27.758 24.5657 27.758 26.1011L27.758 39.5307C27.758 41.0662 29.4665 42.0165 30.8137 41.2305Z" fill="white"/>
              </svg>                               
            </button>
          </div>
        {% endfor %}
      </div>
      <button class="blog-prev slick-prev slick-arrow" aria-label="Previous">
        <svg width="22" height="12" viewBox="0 0 22 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M5.99988 1.00024L1 6.00012L5.99988 11" stroke="#363636"/>
          <path d="M1 6.00012H22" stroke="#363636"/>
        </svg>
      </button>
      <button class="blog-next slick-next slick-arrow" aria-label="Next">
        <svg width="22" height="12" viewBox="0 0 22 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M16.0001 10.9998L21 5.99988L16.0001 1" stroke="#363636"/>
          <path d="M21 5.9989H0" stroke="#363636"/>
        </svg>
      </button>
    </div>
  </div>
</div>
<style>
  .youtobe-wrapper {
    padding: 65px 222px;
  }
  .youtobe-wrapper .video-main {
    width: 100%;
    margin: 0 auto;
  }
  .youtobe-wrapper .video-main .video-view {
    position: relative;
    width: 100%;
  }
  .youtobe-wrapper .video-main .video-view .video_mask {
    position: relative;
    width: 100%;
    z-index: 1;
    left: 0;
    top: 0;
  }
  .youtobe-wrapper .video-main .video-view .video_mask .video-pause {
    opacity:0;
    position:relative;
    background: rgba(244, 126, 40, 1);
    text-align:center;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    transition: all .8s;
    transition-delay: .5s;
  }
  .youtobe-wrapper .video-main .video-view .video_mask .video-pause svg{
    position: absolute;
    left: 56%;
    top: 50%;
    transform: translate(-50%, -50%);
  }
  .youtobe-wrapper .video-main .video-view .video_mask img {
    width: 100%;
    height: 100%;
  }
  .youtobe-wrapper .video-main .video-desc {
    height: 86px;
    font-family: Poppins;
    font-size: 36px;
    font-weight: 700;
    line-height: 54px;
    letter-spacing: 0em;
    text-align: center;
  }
  .youtobe-wrapper .video-main .blog-list {
    position: relative;
    margin-top: 30px;
  }
  .youtobe-wrapper .video-main .blog-list .blog-prev {
    position: absolute;
    left: -2%;
    top: 37%;
  }
  .youtobe-wrapper .video-main .blog-list .blog-next {
    position: absolute;
    left: 100%;
    top: 37%;
  }
  .youtobe-wrapper .video-main .blog-list .slick .blog-item{
    position:relative;
    padding:0 10px;
  }
  .youtobe-wrapper .video-main .blog-list .slick .blog-item img{
   width:100%;
   margin:auto;
  }
  .youtobe-wrapper .video-main .blog-list .slick .blog-item .blog-pause{
    opacity:0;
    position:relative;
    background: rgba(244, 126, 40, 1);
    text-align:center;
    position: absolute;
    left: 47%;
    top: 41%;
    transform: translate(-50%, -50%);
    {% comment %} transition: all .8s; {% endcomment %}
    {% comment %} transition-delay: .5s; {% endcomment %}
  }
  .youtobe-wrapper .video-main .blog-list .slick .blog-item .blog-pause svg{
    position: absolute;
    left: 56%;
    top: 50%;
    transform: translate(-50%, -50%);
  }
  .youtobe-wrapper .video-main .blog-list .slick .blog-item .desc {
    color: #363636;
    font-family: Poppins;
    font-size: 20px;
    font-style: normal;
    font-weight: 400;
    line-height: normal;
  }
  .youtobe-wrapper .video-main .blog-list .slick .blog-item .title {
    color: #666;
    font-family: Poppins;
    font-size: 16px;
    font-style: normal;
    font-weight: 400;
    line-height: 35px; /* 218.75% */
  }
  .video-placeholder {
    position:absolute;
    height:100%;
    opacity: 0;
    z-index: -1;
    width: 100%;
  }
  .youtobe-wrapper .video-main .blog-list .slick .slick-dots{
    top:70px;
  }
  .youtobe-wrapper  .slick-slider .slick-dots li.slick-active button:before{
    background: #f27d33;
    border:none;
  }
  .youtobe-wrapper .slick-slider .slick-dots li button:before{
    background-color: #e6e6e6;
  }
  @media (max-width: 1000px) {
    .youtobe-wrapper {
      padding: 34px 30px;
    }
    .youtobe-wrapper .video-main .blog-list .blog-prev, .youtobe-wrapper .video-main .blog-list .blog-next{
    display:none
    }
   .youtobe-wrapper .video-main .blog-list .slick .blog-item .desc, .youtobe-wrapper .video-main .blog-list .slick .blog-item .title{
    display:none
    }
    .youtobe-wrapper .video-main .blog-list .slick .slick-dots{
      top:150px;
    }
   }
   @media (max-width: 500px){
    .youtobe-wrapper .video-main .blog-list .slick .slick-dots{
      top:80px;
    }
    .youtobe-wrapper {
      padding: 34px 15px;
    }
    .youtobe-wrapper .video-main .blog-list {
      margin-top: 10px;
    } 
    .youtobe-wrapper .video-main .blog-list .slick .blog-item .blog-pause{
    top:50%
    }
    .youtobe-wrapper .video-main .video-desc{
      font-family: Poppins;
      font-size: 22px;
      font-weight: 700;
      line-height: 38px;
      letter-spacing: 0em;
      text-align: center;
    }   
}
</style>
{% comment %} <script src="https://www.youtube.com/iframe_api"></script> {% endcomment %}
<script src="{{ 'https://www.youtube.com/iframe_api'}}" defer="defer"></script>
<script>
  var player;
  function onYouTubeIframeAPIReady() {
    player = new YT.Player('video-placeholder', {
      {% comment %} width: 1400,
      height: 740, {% endcomment %}
      videoId: 'Xa0Q0J5tOP0',
      playerVars: {
        color: 'white',
        playlist: 'taJ60kskkns,FG0fTKAqZ5g',
      },
      events: {
        onReady: initialize,
      },
    });
  }
  // This function is called by initialize()
  function updateTimerDisplay() {
    // Update current time text display.
    $('#current-time').text(formatTime(player.getCurrentTime()));
    $('#duration').text(formatTime(player.getDuration()));
  }
  // This function is called by initialize()
  function updateProgressBar() {
    // Update the value of our progress bar accordingly.
    $('#progress-bar').val((player.getCurrentTime() / player.getDuration()) * 100);
  }
  function formatTime(time) {
    time = Math.round(time);

    var minutes = Math.floor(time / 60),
      seconds = time - minutes * 60;

    seconds = seconds < 10 ? '0' + seconds : seconds;

    return minutes + ':' + seconds;
  }
  function initialize() {
    // Update the controls on load
    updateTimerDisplay();
    updateProgressBar();

    // Clear any old interval.
    clearInterval(time_update_interval);

    // Start interval to update elapsed time display and
    // the elapsed part of the progress bar every second.
    time_update_interval = setInterval(function () {
      updateTimerDisplay();
      updateProgressBar();
    }, 1000);
  }
  $('#progress-bar').on('mouseup touchend', function (e) {
    // Calculate the new time for the video.
    // new time in seconds = total duration in seconds * ( value of range input / 100 )
    var newTime = player.getDuration() * (e.target.value / 100);

    // Skip video to new time.
    player.seekTo(newTime);
  });
  $('#play').on('click', function () {
    player.playVideo();
  });
  $('#pause').on('click', function () {
    player.pauseVideo();
  });
  $('#mute-toggle').on('click', function () {
    var mute_toggle = $(this);

    if (player.isMuted()) {
      player.unMute();
      mute_toggle.text('volume_up');
    } else {
      player.mute();
      mute_toggle.text('volume_off');
    }
  });
  $('#volume-input').on('change', function () {
    player.setVolume($(this).val());
  });
  $('#speed').on('change', function () {
    player.setPlaybackRate($(this).val());
  });
  $('#quality').on('change', function () {
    player.setPlaybackQuality($(this).val());
  });
  $('#next').on('click', function () {
    player.nextVideo();
  });
  $('#prev').on('click', function () {
    player.previousVideo();
  });
  $('.video_mask').hover(
    function () {
      $('.video-pause').css('opacity', 1);
    },
    function () {
      $('.video-pause').css('opacity', 0);
    }
  );
  $('.video-pause').click(function () {
    $('.video_mask').css({'opacity': 0,"z-index":-1});
    $('.video-placeholder').css({'opacity': 1,"z-index":1});
    player.playVideo();
  });
  $('.blog-item').hover(
    function () {
      $(this).find('.blog-pause').css('opacity', 1);
    },
    function () {
      $(this).find('.blog-pause').css('opacity', 0);
    }
  );
  $('.blog-pause').click(function () {
    $('.video_mask').css({'opacity': 0,"z-index":-1});
    $('.video-placeholder').css({'opacity': 1,"z-index":1});
    player.cueVideoById($(this).attr('data-video-id'));
    setTimeout(function () {
      player.playVideo();
    }, 200);
  });
</script>
<script>
  $(function () {
    $('.slick').slick({
      dots: false,
      infinite: true,
      speed: 300,
      slidesToShow: 4,
      adaptiveHeight: true,
      arrows: false,
      responsive: [       
        {
          breakpoint: 1280,
          settings: {
            arrows: false,
            slidesToShow: 3,
          }
        },
        {
          breakpoint: 1000,
          settings: {
            arrows: false,
            slidesToShow: 3,
            dots: true,
          }
        },
        {
          breakpoint: 700,
          settings: {
            arrows: false,
            slidesToShow: 2.5,
            dots: true,
          }
        }
      ]
    });
    $('.blog-prev').click(function () {
      $('.slick').slick('slickPrev');
    });
    $('.blog-next').click(function () {
      $('.slick').slick('slickNext');
    });
  });
</script>
{% schema %}
{
  "name": "youtobe-video",
  "settings": [
    {
      "type": "image_picker",
      "id": "video_mask",
      "label": "video_mask"
    }
  ],
  "blocks": [
    {
      "name": "vedio",
      "type": "html",
      "settings": [
        {
          "type": "image_picker",
          "id": "videoImg",
          "label": "videoImg"
        },
        {
          "type": "text",
          "id": "videoTitle",
          "label": "videoTitle",
          "default": "Aaron Baldwin"
        },
        {
          "type": "text",
          "id": "videoDesc",
          "label": "videoDesc",
          "default": "Lorem ipsum dolor sit amet"
        },
        {
          "type": "text",
          "id": "videoKey",
          "label": "videoKey"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "youtobe-video"
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
